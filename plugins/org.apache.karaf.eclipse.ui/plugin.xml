<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<!--
   Licensed to the Apache Software Foundation (ASF) under one
   or more contributor license agreements.  See the NOTICE file
   distributed with this work for additional information
   regarding copyright ownership.  The ASF licenses this file
   to you under the Apache License, Version 2.0 (the
   "License"); you may not use this file except in compliance
   with the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing,
   software distributed under the License is distributed on an
   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   KIND, either express or implied.  See the License for the
   specific language governing permissions and limitations
   under the License.
-->
<plugin>
   <extension-point id="service" name="Apache Karaf Workbench service definition" schema="schema/service.exsd"/>
   <extension
         point="org.eclipse.ant.core.extraClasspathEntries">
      <extraClasspathEntry
            eclipseRuntime="false"
            headless="true"
            library="ant/lib/org.apache.ivy_2.2.1.alpha_20110704083644.jar">
      </extraClasspathEntry>
   </extension>
   <extension
         point="org.eclipse.pde.ui.launchShortcuts">
      <shortcut
            id="org.apache.karaf.eclipse.ui.KarafLaunchShortcut"
            label="Launch an Apache Karaf application"
            mode="run"
            osgi="true">
      </shortcut>
      <shortcut
            id="org.apache.karaf.eclipse.ui.KarafLaunchShortcut"
            label="Launch an Apache Karaf application in Debug mode"
            mode="debug"
            osgi="true">
      </shortcut>
   </extension>
   <extension
         point="org.eclipse.pde.ui.osgiFrameworks">
      <framework
            id="org.apache.karaf.eclipse.Framework"
            initializer="org.apache.karaf.eclipse.ui.KarafLaunchConfigurationInitializer"
            launcherDelegate="org.apache.karaf.eclipse.ui.KarafLaunchConfigurationDelegate"
            name="Apache Karaf on Equinox">
      </framework>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabs">
      <tab
            class="org.apache.karaf.eclipse.ui.KarafConfigurationTab"
            group="org.eclipse.pde.ui.launcher.EquinoxLauncherTabGroup"
            id="org.apache.karaf.eclipse.ui.karafGeneralLaunchConfigurationTab"
            name="Apache Karaf">
         <placement
               after="org.eclipse.pde.ui.launch.tab.tracing">
         </placement>
      </tab>
   </extension>
   <extension
         id="karaf"
         name="Default Apache Felix Karaf Workbench Services"
         point="org.apache.karaf.eclipse.ui.service">
      <launchCustomizer
            class="org.apache.karaf.eclipse.ui.workbench.internal.GenericKarafWorkbenchServiceFactory">
      </launchCustomizer>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.debug.core.ILaunchConfiguration"
            class="org.apache.karaf.eclipse.ui.internal.KarafLaunchConfigurationAdapterFactory">
         <adapter
               type="org.apache.karaf.eclipse.core.KarafPlatformModel">
         </adapter>
      </factory>
      <factory
            adaptableType="org.eclipse.core.resources.IProject"
            class="org.apache.karaf.eclipse.ui.internal.KarafLaunchConfigurationAdapterFactory">
         <adapter
               type="org.apache.karaf.eclipse.ui.IKarafProject">
         </adapter>
      </factory>
      <factory
            adaptableType="org.apache.karaf.eclipse.core.KarafPlatformModel"
            class="org.apache.karaf.eclipse.ui.internal.KarafLaunchConfigurationAdapterFactory">
         <adapter
               type="org.apache.karaf.eclipse.ui.IKarafProject">
         </adapter>
      </factory>
      <factory
            adaptableType="org.apache.karaf.eclipse.core.KarafPlatformModel"
            class="org.apache.karaf.eclipse.ui.internal.KarafConfigurationAdapterFactory">
         <adapter
               type="org.apache.karaf.eclipse.ui.configuration.FeaturesSection">
         </adapter>
         <adapter
               type="org.apache.karaf.eclipse.ui.configuration.ShellSection">
         </adapter>
         <adapter
               type="org.apache.karaf.eclipse.ui.configuration.GeneralSection">
         </adapter>
         <adapter
               type="org.apache.karaf.eclipse.ui.configuration.ManagementSection">
         </adapter>
         <adapter
               type="org.apache.karaf.eclipse.ui.configuration.StartupSection">
         </adapter>
         <adapter
               type="org.apache.karaf.eclipse.ui.configuration.SystemSection">
         </adapter>
         <adapter
               type="org.apache.karaf.eclipse.ui.configuration.ShellSection">
         </adapter>
         <adapter
               type="org.apache.karaf.eclipse.core.shell.KarafSshConnectionUrl">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="org.apache.karaf.eclipse.ui.karafWizardsCategory"
            name="Apache Karaf">
      </category>
      <wizard
            category="org.apache.karaf.eclipse.ui.karafWizardsCategory"
            class="org.apache.karaf.eclipse.ui.wizards.NewKarafProjectWizard"
            finalPerspective="org.eclipse.pde.ui.PDEPerspective"
            icon="icons/obj16/karaf-logo-16x16.png"
            id="org.apache.karaf.eclipse.ui.karafPlatformProject"
            name="Apache Karaf Installation"
            project="true">
         <description>
            Import an Apache Karaf installation in to the workspace.
         </description>
      </wizard>
   </extension>
   <extension
         id="org.apache.karaf.eclipse.KarafProjectNature"
         name="Apache Karaf Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.apache.karaf.eclipse.ui.project.KarafProjectNature">
         </run>
      </runtime>
   </extension>
   <extension
         point="org.eclipse.ui.ide.projectNatureImages">
      <image
            icon="icons/obj16/karaf-logo-nature-16x16.png"
            id="org.apache.karaf.eclipse.ui.KarafProjectNatureImage"
            natureId="org.apache.karaf.eclipse.KarafProjectNature">
      </image>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            appearsBefore="org.eclipse.ui.navigator.resourceContent"
            contentProvider="org.apache.karaf.eclipse.ui.navigator.KarafPlatformModelContentProvider"
            icon="icons/obj16/karaf-logo-16x16.png"
            id="org.apache.karaf.eclipse.ui.navigator.KarafResources"
            labelProvider="org.apache.karaf.eclipse.ui.navigator.KarafPlatformModelLabelProvider"
            name="Apache Karaf">
         <triggerPoints>
            <adapt
                  type="org.eclipse.core.resources.IProject">
               <test
                     property="org.eclipse.core.resources.projectNature"
                     value="org.apache.karaf.eclipse.KarafProjectNature">
               </test>
            </adapt>
         </triggerPoints>
      </navigatorContent>
      <navigatorContent
            appearsBefore="org.apache.karaf.eclipse.ui.navigator.KarafResources"
            contentProvider="org.apache.karaf.eclipse.ui.features.FeaturesContentProvider"
            icon="icons/obj16/feature_obj.gif"
            id="org.apache.karaf.eclipse.ui.navigator.KarafFeaturesContent"
            labelProvider="org.apache.karaf.eclipse.ui.features.FeaturesLabelProvider"
            name="Apache Karaf Features">
         <triggerPoints>
            <adapt
                  type="org.eclipse.core.resources.IProject">
               <test
                     property="org.eclipse.core.resources.projectNature"
                     value="org.apache.karaf.eclipse.KarafProjectNature">
               </test>
            </adapt>
         </triggerPoints>
      </navigatorContent>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding
            viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension
                  pattern="org.apache.karaf.eclipse.ui.navigator.*">
            </contentExtension>
         </includes>
      </viewerContentBinding>
   </extension>
   <extension
         id="karafProjectBuilder"
         name="Apache Karaf Builder"
         point="org.eclipse.core.resources.builders">
      <builder>
         <run
               class="org.apache.karaf.eclipse.ui.project.KarafProjectBuilder">
         </run>
      </builder>
   </extension>
   <extension
         point="org.eclipse.jdt.core.classpathContainerInitializer">
      <classpathContainerInitializer
            class="org.apache.karaf.eclipse.ui.KarafClasspathContainerInitializer"
            id="org.apache.karaf.eclipse.ui.karafPlugins">
      </classpathContainerInitializer>
   </extension>
   <extension
         point="org.eclipse.jdt.ui.classpathContainerPage">
      <classpathContainerPage
            class="org.apache.karaf.eclipse.ui.internal.KarafClasspathContainerPage"
            id="org.apache.karaf.eclipse.ui.karafPluginsContainerPage"
            name="Apache Karaf">
      </classpathContainerPage>
   </extension>

</plugin>
